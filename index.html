<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Oscillator Media Player with EQ Stats</title>
<style>
  /* CSS for styling */
  body {
    font-family: Arial, sans-serif;
    text-align: center;
  }
  #eqStats {
    margin-top: 20px;
    font-weight: bold;
  }
  .eqBar {
    width: 2px;
    background-color: blue;
    display: inline-block;
    margin-right: 1px;
  }
</style>
</head>
<body>
<!-- HTML structure for the media player and EQ stats -->
<h1>Oscillator Media Player</h1>
<audio id="audioPlayer" controls></audio>
<div id="eqStats"></div>

<!-- JavaScript for controlling oscillator and displaying EQ stats -->
<script>
  const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  const oscillator = audioCtx.createOscillator();
  const gainNode = audioCtx.createGain();
  const analyser = audioCtx.createAnalyser();

  // Connect nodes
  oscillator.connect(gainNode);
  gainNode.connect(analyser);
  analyser.connect(audioCtx.destination);

  // Start oscillator
  oscillator.start();

  // Set up audio player
  const audioPlayer = document.getElementById('audioPlayer');
  const source = audioCtx.createMediaElementSource(audioPlayer);
  source.connect(analyser);

  // Update EQ stats
  function updateEQStats() {
    const dataArray = new Uint8Array(analyser.frequencyBinCount);
    analyser.getByteFrequencyData(dataArray);
    const eqStatsDiv = document.getElementById('eqStats');
    eqStatsDiv.innerHTML = '';
    dataArray.forEach(value => {
      const bar = document.createElement('div');
      bar.className = 'eqBar';
      bar.style.height = `${value}px`;
      eqStatsDiv.appendChild(bar);
    });
    requestAnimationFrame(updateEQStats);
  }

  // Call updateEQStats function to update EQ stats
  updateEQStats();

  // Example: load audio file
  audioPlayer.src = 'example_audio.mp3';
</script>
</body>
</html>
